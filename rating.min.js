$.fn.cdrating=function(a){var a=$.extend({className:"cd-star",classActive:"cd-active",classHover:"cd-hover",count:5},a);return this.each(function(){var b=$(this),c=b.data(),d=parseInt(c.value,10),e=c.mode,f=c.name,g=parseInt(c.count,10);b.removeAttr("data-count data-value"),g||(g=a.count),d?d>g&&(d=g):d=0;for(var h=0;h<g;h++)$('<div class="'+a.className+'"></div>').appendTo(b);if(d>0&&$("."+a.className,this).slice(0,d).addClass(a.classActive),"active"==e){var i=$('<input type="hidden" name="'+f+'"/>').appendTo(b);b.removeAttr("data-name data-mode").addClass("grab");var j=$("."+a.className,b);j.hover(function(){var b=$(this).index()+1;j.slice(0,b).addClass(a.classHover)},function(){j.removeClass(a.classHover)}).click(function(){var b=$(this).index()+1;j.removeClass(a.classActive).slice(0,b).addClass(a.classActive),i.val(b)})}})};
